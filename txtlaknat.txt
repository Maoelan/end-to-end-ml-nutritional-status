ini full codenya, mungkin anda akan memahaminya masalahnya dimana berdasarkan full codenya

ini orangtua-read.jsx :

import React, { useState, useEffect } from 'react';
import axios from 'axios';
import { useNavigate } from 'react-router-dom';
import MainLayout from '../../design/MainLayout';
import '../../css/orangtua.css'
import { Table } from 'react-bootstrap';
import 'bootstrap/dist/css/bootstrap.min.css';

const OrangTuaRead = () => {
  const [orangtuaList, setOrangTuaList] = useState([]);
  const [username, setUsername] = useState('');
  const navigate = useNavigate();

  useEffect(() => {
    const checkAuthentication = () => {
      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
      if (!isLoggedIn) {
        navigate('/login');
      } else {
        const storedUsername = localStorage.getItem('username');
        setUsername(storedUsername);
      }
    };

    checkAuthentication();
    fetchOrangTua();
  }, [navigate]);

  const fetchOrangTua = async () => {
    try {
      const response = await axios.get('http://localhost:5000/api/orangtua/get');
      setOrangTuaList(response.data);
    } catch (error) {
      console.error(error);
    }
  };

  const handleLogout = () => {
    localStorage.setItem('isLoggedIn', 'false');
    localStorage.removeItem('isLoggedIn');
    navigate('/login', { replace: true });
  };

  return (
<MainLayout username={ username } handleLogout={ handleLogout }>
      <div className="orangtua-read-container">
        <h2>Daftar Orang Tua</h2>
        <div className="table-container">
        <Table striped bordered hover>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nama</th>
            <th>Alamat</th>
            <th>Provinsi</th>
            <th>Kabupaten</th>
            <th>Kecamatan</th>
            <th>Desa</th>
            <th>Posyandu</th>
            <th>RT</th>
            <th>RW</th>
          </tr>
        </thead>
        <tbody>
          {orangtuaList.map((orangtua) => (
            <tr key={orangtua.id}>
              <td>{orangtua.id}</td>
              <td>{orangtua.nama}</td>
              <td>{orangtua.alamat}</td>
              <td>{orangtua.provinsi}</td>
              <td>{orangtua.kabupaten}</td>
              <td>{orangtua.kecamatan}</td>
              <td>{orangtua.desa}</td>
              <td>{orangtua.posyandu}</td>
              <td>{orangtua.rt}</td>
              <td>{orangtua.rw}</td>
            </tr>
          ))}
        </tbody>
      </Table>
        </div>
      </div>
    </MainLayout>
  );
};

export default OrangTuaRead;

ini login.jsx :

import React, { useState } from 'react';
import { Form, FormControl, Button, Container } from 'react-bootstrap';
import axios from 'axios';
import { useNavigate } from 'react-router-dom';
import 'bootstrap/dist/css/bootstrap.min.css';
import './css/login.css';

function Login({ setIsLoggedIn }) {
  const navigate = useNavigate();
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');

  const handleUsernameChange = (event) => {
    setUsername(event.target.value);
  };

  const handlePasswordChange = (event) => {
    setPassword(event.target.value);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();

    const data = {
      username: username,
      password: password
    };

    try {
      const response = await axios.post('http://localhost:5000/api/login', data);
      console.log(response.data);

      if (!response.data.message || response.data.message !== 'Login Berhasil') {
        console.log('Login failed:', response.data.message);
      } else {
        localStorage.setItem('isLoggedIn', 'true');
        localStorage.setItem('token', response.data.token);
        setIsLoggedIn(true);
        navigate('/orangtua-read', { replace: true });
        setUsername('');
        setPassword('');
        return;
      }
      setUsername('');
      setPassword('');
    } catch (error) {
      console.error(error);
      setUsername('');
      setPassword('');
    }
  };

  return (
    <Container>
      <div className="login-container">
        <h2 className="login-heading">Login</h2>
        <Form onSubmit={handleSubmit}>
          <Form.Group controlId="formUsername">
            <FormControl
              type="text"
              value={username}
              onChange={handleUsernameChange}
              placeholder="Enter username"
            />
          </Form.Group>
          <Form.Group controlId="formPassword">
            <FormControl
              type="password"
              value={password}
              onChange={handlePasswordChange}
              placeholder="Enter password"
            />
          </Form.Group>
          <Button variant="primary" type="submit" className="login-button">
            Login
          </Button>
          <div className="login-options">
            <p className="forgot-password">Lupa password?</p>
            <p className="register-link">Not a member? Register</p>
          </div>
        </Form>
      </div>
    </Container>
  );
}

export default Login;

ini PrivateRoute.jsx :

import React from 'react';
import { Route, Navigate } from 'react-router-dom';

const PrivateRoute = ({ element: Component, ...rest }) => {
  const isAuthenticated = localStorage.getItem('isLoggedIn') === 'true';

  return isAuthenticated ? (
    <Route {...rest} element={<Component />} />
  ) : (
    <Navigate to="/login" replace state={{ from: rest.location }} />
  );
};

export default PrivateRoute;

ini App.js :

import React, { useState, useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import Login from './components/login';
import OrangTuaRead from './components/crud/orangtua/orangtua-read';
import './components/css/login.css';

function App() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);

  useEffect(() => {
    const checkAuthentication = () => {
      const storedIsLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
      setIsLoggedIn(storedIsLoggedIn);
    };

    checkAuthentication();
  }, []);

  const handleLogout = () => {
    localStorage.setItem('isLoggedIn', 'false');
    setIsLoggedIn(false);
  };

  return (
    <Router>
      <Routes>
        <Route path="/login" element={<div className="login-wrapper">{isLoggedIn ? <Navigate to="/orangtua-read" /> : <Login setIsLoggedIn={setIsLoggedIn} />}</div>} />
        <Route
          path="/orangtua-read"
          element={isLoggedIn ? <OrangTuaRead handleLogout={handleLogout} /> : <Navigate to="/login" />}
        />
        <Route path="/" element={<Navigate to="/login" />} />
      </Routes>
    </Router>
  );
}

export default App;
